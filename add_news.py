from app import app, db, News
from datetime import datetime

# Создание контекста приложения
with app.app_context():
    # Создание таблицы новостей, если ее нет
    db.create_all()

    # Добавление новостей
    news_items = [
        News(
            title="Военные сборы 2024",
            content="Военные сборы 2024 пройдут в июне. Все призывники должны явиться в военкомат для получения повесток.",
            created_at=datetime(2024, 5, 20, 14, 30)
        ),
        News(
            title="День открытых дверей",
            content="Приглашаем всех на День открытых дверей в нашем военкомате. Мероприятие состоится 15 июня.",
            created_at=datetime(2024, 5, 21, 10, 0)
        ),
        News(
            title="Патриотическая акция",
            content="В честь Дня Победы мы проводим патриотическую акцию. Присоединяйтесь к нам 9 мая на центральной площади города.",
            created_at=datetime(2024, 5, 22, 16, 45)
        )
    ]

    # Добавление новостей в базу данных
    for news_item in news_items:
        db.session.add(news_item)

    # Сохранение изменений
    db.session.commit()

    print("Новости успешно добавлены в базу данных.")
